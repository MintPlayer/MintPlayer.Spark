<div class="position-fixed w-100 bg-dark top-bar">
  <bs-navbar-toggler [state]="isSidebarVisible()"
                     (stateChange)="toggleSidebar($event)">
  </bs-navbar-toggler>
</div>
<bs-shell [state]="shellState()" [breakpoint]="'md'">
  <nav *bsShellSidebar class="sidebar-inner text-light p-2">
    <h5 class="p-3 border-bottom">Spark Demo</h5>
    <bs-accordion class="d-block">
      @for (group of programUnitGroups; track group.id) {
      <bs-accordion-tab>
        <bs-accordion-tab-header>
          <span class="triangle me-2"></span>
          <app-icon [name]="getIconName(group.icon, 'bi-folder')" />
          <span class="ms-2">{{ resolveTranslation(group.name) }}</span>
        </bs-accordion-tab-header>
        @for (unit of group.programUnits; track unit.id) {
        <a [routerLink]="getRouterLink(unit)"
           routerLinkActive="active"
           (click)="onMenuItemClick()"
           class="d-block px-3 py-2 text-light text-decoration-none nav-link">
          <app-icon [name]="getIconName(unit.icon, 'bi-file')" />
          <span class="ms-2">{{ resolveTranslation(unit.name) }}</span>
        </a>
        }
      </bs-accordion-tab>
      }
    </bs-accordion>
  </nav>

  <main class="p-4">
    <router-outlet />
  </main>
</bs-shell>
